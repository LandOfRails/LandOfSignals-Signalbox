@page "/"
@using LandOfSignals_Signalbox.Socket
@inject IJSRuntime js

<PageTitle>Index</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Socket test</MudText>

<MudButton OnClick="Send">Send</MudButton>
<MudText>@SocketHandler.test</MudText>

<MudButton OnClick="generateMap">Generate map</MudButton>

<svg viewBox="0,0,1152,400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <pattern id="dot-pattern" patternUnits="userSpaceOnUse" x="-26" y="-4" width="25" height="25">
        <rect width="3" height="3" fill="#a4a4a4" x="11" y="11" opacity="1" />
    </pattern>
    <rect fill="url(#dot-pattern)" width="1000" height="100%" />
    <g id="content" transform="translate(-26,-4) scale(1)">
        <rect fill="#65D097" rx="10" width="100" height="100" x="501" y="125" />
        <rect fill="#75E6CF" rx="5" width="50" height="50" x="611" y="175" />
        <rect fill="#5CC4FF" rx="3" width="25" height="25" x="611" y="235" />
    </g>
</svg>

@code
{
    async Task generateMap()
    {
        await js.InvokeAsync<object>("test");
        StateHasChanged();
    }

    public void Send()
    {
        SocketHandler.Send("goil");
    }
}
